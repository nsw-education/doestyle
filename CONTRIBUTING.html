<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Contributing • doestyle</title><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Contributing"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">doestyle</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.2.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="articles/extending_theme_doe.html">Extending theme_doe</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/nsw-education/doestyle/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-title-body">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Contributing</h1>
      <small class="dont-index">Source: <a href="https://github.com/nsw-education/doestyle/blob/main/CONTRIBUTING.md" class="external-link"><code>CONTRIBUTING.md</code></a></small>
    </div>

<div id="contributing" class="section level1">

<p>When contributing to <code>doestyle</code>, please discuss the change you wish to make via the <a href="https://nsw-education.atlassian.net/jira/software/c/projects/DOES/boards/1013" class="external-link">project’s kanban board</a>, in <a href="https://teams.microsoft.com/l/channel/19%3Ab8e6ff4d3c1b4d9ebcba76af4e8c0f42%40thread.tacv2/doestyle?groupId=1c2dd9eb-a6ae-4724-b4e1-25838f4c126a&amp;tenantId=05a0e69a-418a-47c1-9c25-9387261bf991" class="external-link">its Teams channel</a>, or even <a href="mailto:samuel.gardiner7@det.nsw.edu.au;Jonathan.McGuire1@det.nsw.edu.au">email</a>.</p>
<p>If you’re not sure how to get started, please read <a href="#markdown-header-setting-up-your-development-environment">Setting up your development environment</a>, <a href="#markdown-header-contribution-workflow-tutorial">Contribution workflow - tutorial</a> and watch <a href="https://schoolsnsw.sharepoint.com/:v:/s/DataVisWorkingGroup/EYthJPlfW4ZOhP-6aT0JrMABgWWB2bX_sEOVSlPMwlZwWg?e=OxCP6i&amp;nav=eyJyZWZlcnJhbEluZm8iOnsicmVmZXJyYWxBcHAiOiJTdHJlYW1XZWJBcHAiLCJyZWZlcnJhbFZpZXciOiJTaGFyZURpYWxvZy1MaW5rIiwicmVmZXJyYWxBcHBQbGF0Zm9ybSI6IldlYiIsInJlZmVycmFsTW9kZSI6InZpZXcifX0%3D" class="external-link">the video walkthrough</a>. If you’re comfortable with Git and with working on open source software, you can probably skip down to <a href="#markdown-header-conventions">Conventions</a>.</p>
<div class="section level2">
<h2 id="code-of-conduct">Code of Conduct<a class="anchor" aria-label="anchor" href="#code-of-conduct"></a></h2>
<p>We follow the <a href="https://education.nsw.gov.au/rights-and-accountability/department-of-education-code-of-conduct" class="external-link">NSW Department of Education Code of Conduct</a>.</p>
<p>Most importantly, please be kind to potential contributors. We have R users and developers from across the entire spectrum of experience, and we want to foster a safe environment - and hopefully the desire to engage with other open source software projects.</p>
</div>
<div class="section level2">
<h2 id="setting-up-your-development-environment">Setting up your development environment<a class="anchor" aria-label="anchor" href="#setting-up-your-development-environment"></a></h2>
<p>You will need R (&gt;=4.1), RStudio (&gt;=2024.12) and Git. On DoE devices, you can install them from Company Portal.</p>
<p>Clone the <code>doestyle</code> Git repository: <code>https://bitbucket.org/nsw-education/doestyle</code>. If you’re not a confident Git user, the easiest way to do this will be in RStudio:</p>
<ol style="list-style-type: decimal"><li>Navigate to File -&gt; New Project -&gt; Version Control -&gt; Git</li>
<li>Paste <code>https://bitbucket.org/nsw-education/doestyle</code> in the ‘Repository URL’ field</li>
<li>Use the ‘Browse’ button to choose a directory on your computer to hold the <code>doestyle</code> RStudio project directory.</li>
<li>Click ‘Create Project’. RStudio and Git will clone the project and open the project in RStudio, ready for use.</li>
</ol><p>To check that your development environment is set up, you can try building the <code>doestyle</code> package. With the <code>doestyle</code> RStudio project open, navigate to Build -&gt; Install Package (or use Ctrl+Shift+B, on Windows). RStudio should initiate the package build and installation. You will be able to see the progress in RStudio’s ‘Build’ pane.</p>
<p>You’ll generally only need to clone the repository once. In the future, when you want to work on <code>doestyle</code>, you can open the RStudio project from the directory you chose when cloning. When you do this, you usually start your work by using ‘Pull’ in the Git pane to ensure that you are working with the current state of the <code>doestyle</code> repository.</p>
</div>
<div class="section level2">
<h2 id="contribution-workflow---tutorial">Contribution workflow - tutorial<a class="anchor" aria-label="anchor" href="#contribution-workflow---tutorial"></a></h2>
<p>There are many workflows that will achieve similar outcomes, but this is a simple approach to contributing a feature or a bugfix. This is also similar to the workflow used by most open source software in the wild. The general process will be:</p>
<ol style="list-style-type: decimal"><li>Create a branch for your work</li>
<li>Work on your new branch in RStudio</li>
<li>Open a Bitbucket pull request to merge your work into <code>doestyle</code>
</li>
</ol><p>The <a href="https://schoolsnsw.sharepoint.com/:v:/s/DataVisWorkingGroup/EYthJPlfW4ZOhP-6aT0JrMABgWWB2bX_sEOVSlPMwlZwWg?e=OxCP6i&amp;nav=eyJyZWZlcnJhbEluZm8iOnsicmVmZXJyYWxBcHAiOiJTdHJlYW1XZWJBcHAiLCJyZWZlcnJhbFZpZXciOiJTaGFyZURpYWxvZy1MaW5rIiwicmVmZXJyYWxBcHBQbGF0Zm9ybSI6IldlYiIsInJlZmVycmFsTW9kZSI6InZpZXcifX0%3D" class="external-link">accompanying video tutorial</a> demonstrates this workflow.</p>
<p>If at any point you are prompted by Git or Bitbucket to log in, choose ‘Authenticate with browser’ and log in using the usual DoE single-sign-on process.</p>
<div class="section level3">
<h3 id="create-a-branch-for-your-work">Create a branch for your work<a class="anchor" aria-label="anchor" href="#create-a-branch-for-your-work"></a></h3>
<p>Because <code>doestyle</code> is in use, we make changes in new Git branches, rather than changing the released production code that is in use. This lets us test and check the new code before making it available for everyone as a new release.</p>
<p>Select or create an issue from the <a href="https://nsw-education.atlassian.net/jira/software/c/projects/DOES/boards/1013" class="external-link"><code>doestyle</code> Jira kanban board</a>, and using the Jira interface, create a new Git branch for your work:</p>
<ol style="list-style-type: decimal"><li>Click on the issue in Jira to open it.</li>
<li>In the issue’s right-hand ‘Details’ panel, under ‘Development’, click ‘Create branch’ and then ‘Create branch in Bitbucket Cloud’.</li>
<li>Add some details for your new branch and click ‘Create’:
<ul><li>‘Repository’ should already be set to <code>nsw-education/doestyle</code>.</li>
<li>Set the ‘Type’ as appropriate for what you want to work on - most likely ‘Feature’ or ‘Bugfix’.</li>
<li>The ‘From branch’ should almost always be ‘main’, in our current branching model. This represents the starting state of your new branch.</li>
<li>‘Branch name’ will have an automatic name based on the Jira issue you chose, but you can alter it to make it shorter or more readable. Make sure you leave the issue ID (e.g. <code>DOES-XX</code>) intact at the front of the branch name, as this helps link your code to the Jira issue.</li>
</ul></li>
</ol></div>
<div class="section level3">
<h3 id="work-on-your-new-branch-in-rstudio">Work on your new branch in RStudio<a class="anchor" aria-label="anchor" href="#work-on-your-new-branch-in-rstudio"></a></h3>
<ol style="list-style-type: decimal"><li>Open the <code>doestyle</code> RStudio project that you cloned in <a href="#markdown-header-setting-up-your-development-environment">Setting up your development environment</a>, above.</li>
<li>Run <code>git pull</code> or <code>git fetch</code> to retrieve the current state of the repository. The easiest way to do this is to click ‘Pull’ in RStudio’s Git pane.</li>
<li>Switch to your new branch. The easiest way to do this is in the RStudio Git pane:
<ul><li>In the top right corner of the Git pane, you’ll see the name of the current branch - most likely, <code>main</code>.</li>
<li>Click on the drop-down to see a list of branches.</li>
<li>Under <code>(REMOTE: ORIGIN)</code> you should see the branch you created. Click on your branch to switch to it. RStudio will show you the output of the Git command. Once you see output that looks like <code>Switched to new branch [your new branch name]</code>, you can close the Git output window.</li>
</ul></li>
<li>Add, remove or edit code as needed to implement your change.</li>
<li>As you work, commit your changes to your branch:
<ul><li>Save the file(s) you’re working on.</li>
<li>In the RStudio Git panel, click the checkbox next to any file that you want to include in the commit.</li>
<li>Click the ‘Commit pending changes’ button. Depending on your screen resolution and size of the your Git panel, the button may not be labelled. In RStudio 2024.12, the button looks like a checkbox with a tick.</li>
<li>Write a commit message to describe the change. The first line of the commit message should be a short description of the change. Ideally, use the imperative mood (as if you were telling the computer what to do), because this produces commit messages that are shorter and easier to read. For example, the commit message associated with adding this guide will be something like “Add contributor’s guide”.</li>
</ul></li>
<li>It’s typical to make a series of commits as you work on a new feature. Choosing appropriate chunks of work to commit is up to you, and is a skill you will develop with practice. A nice goal is to have your commits tell a sensible, sequential story about how you implemented your feature or fix, but don’t get too hung up on this.</li>
<li>When you are ready to include your committed code in the <code>doestyle</code> package, use <code>git push</code> to push your branch back to the central Bitbucket Git repository. The easiest way to do this is with the ‘Push’ button in RStudio’s Git pane.</li>
</ol></div>
<div class="section level3">
<h3 id="open-a-bitbucket-pull-request-to-merge-your-work-into-doestyle">Open a Bitbucket pull request to merge your work into <code>doestyle</code>
<a class="anchor" aria-label="anchor" href="#open-a-bitbucket-pull-request-to-merge-your-work-into-doestyle"></a></h3>
<p>Every time you <code>git push</code> to the central <code>doestyle</code> repository on Bitbucket, Bitbucket runs a series of tests to make sure that the new code works and that the package can still be built. If the automated tests pass, you’ll be able to request that your new code be merged into <code>doestyle</code> in a process called a ‘pull request’.</p>
<ol style="list-style-type: decimal"><li>In your browser, navigate to the <a href="https://bitbucket.org/nsw-education/doestyle/branches/" class="external-link">list of branches for nsw-education/doestyle</a>. You should see your branch in the list.</li>
<li>In the ‘Pull request’ column, click ‘Create’.</li>
<li>Add details for your pull request. Bitbucket will automatically populate the source branch (ie. the branch you’ve been working on), the destination branch (main), title, description and reviewers, but you can update to clarify if needed.</li>
<li>Click the ‘Create pull request’ button to create the pull request and notify the reviewers.</li>
<li>A reviewer will either:
<ul><li>Approve the pull request, in which case your code will be merged into the <code>main</code> branch and become part of <code>doestyle</code>.</li>
<li>Start a conversation with you to request changes to your branch until it is ready to merge.</li>
</ul></li>
</ol><p>Congratulations - you just contributed to an open source software project!</p>
</div>
</div>
<div class="section level2">
<h2 id="conventions">Conventions<a class="anchor" aria-label="anchor" href="#conventions"></a></h2>
<p>This section may be worth a quick read if you don’t need a tutorial.</p>
<div class="section level3">
<h3 id="git-branching-model">Git branching model<a class="anchor" aria-label="anchor" href="#git-branching-model"></a></h3>
<p>We use a <a href="https://www.atlassian.com/git/tutorials/comparing-workflows/feature-branch-workflow" class="external-link">feature branch</a> workflow. Any new feature, fix, documentation or other change should be made in a new branch. We use branch name prefixes to denote the type of work: <code>feature/</code>, <code>bugfix/</code>, <code>hotfix/</code> etc.</p>
<p>Branches can be merged into <code>main</code> via pull request after they have passed automated testing and been approved by a reviewer.</p>
</div>
<div class="section level3">
<h3 id="versioning-and-releases">Versioning and releases<a class="anchor" aria-label="anchor" href="#versioning-and-releases"></a></h3>
<p>We try to use <a href="https://semver.org/" class="external-link">semantic versioning</a>. In-development versions should have the same version number as the last release, with an <a href="https://r-pkgs.org/lifecycle.html#sec-lifecycle-version-number-tidyverse" class="external-link">additional version suffix starting with 9</a> - e.g. 0.2.1.9000.</p>
</div>
<div class="section level3">
<h3 id="continuous-integration-and-testing">Continuous integration and testing<a class="anchor" aria-label="anchor" href="#continuous-integration-and-testing"></a></h3>
<p>Continuous integration (CI) is run on every push, for any branch, using a Bitbucket pipeline defined in <a href="./bitbucket-pipelines.yml"><code>bitbucket-pipelines.yml</code></a>. The pipeline builds <code>doestyle</code> and runs <a href="https://r-pkgs.org/R-CMD-check.html" class="external-link">R CMD check</a>, including any tests defined in the <code>tests</code> directory. We use the <a href="https://testthat.r-lib.org/" class="external-link"><code>testthat</code></a> framework to write unit and regression tests. Contribution of tests is very welcome!</p>
<p>The CI environment is a Docker container based on the <a href="https://rocker-project.org/images/versioned/rstudio.html" class="external-link">rocker/tidyverse</a> image. Any dependencies as specified in <a href="./DESCRIPTION">DESCRIPTION</a> are installed within the CI environment prior to it building or testing <code>doestyle</code>.</p>
<p>Pull requests cannot be merged into <code>main</code> until the CI pipeline has succeeded.</p>
</div>
<div class="section level3">
<h3 id="style-and-other-conventions">Style and other conventions<a class="anchor" aria-label="anchor" href="#style-and-other-conventions"></a></h3>
<p>Please use the <a href="https://style.tidyverse.org/" class="external-link">tidyverse style guide</a> for your code. It is a good idea to run <a href="https://styler.r-lib.org/" class="external-link"><code>styler</code></a> over your code before submitting a pull request - this means you don’t have to think too much about code style, and can just let <code>styler</code> take care of it.</p>
<p>Where possible, please use the native pipe, <code>|&gt;</code>, over the <code>magrittr</code> pipe, <code>%&gt;%</code>.</p>
</div>
</div>
</div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Samuel Gardiner, Matthew Finkbeiner, Jonathan McGuire.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

